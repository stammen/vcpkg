diff --git a/CMakeLists.txt b/CMakeLists.txt
index ce6b167..7af515b 100644
--- a/CMakeLists.txt
+++ b/CMakeLists.txt
@@ -602,7 +602,11 @@ SET(PCRECPP_SOURCES
 ADD_DEFINITIONS(-DHAVE_CONFIG_H)
 
 IF(MSVC)
-        ADD_DEFINITIONS(-D_CRT_SECURE_NO_DEPRECATE -D_CRT_SECURE_NO_WARNINGS)
+    ADD_DEFINITIONS(-D_CRT_SECURE_NO_DEPRECATE -D_CRT_SECURE_NO_WARNINGS)
+    if(CMAKE_BUILD_TYPE MATCHES "Debug")
+        #needed for xbmc debug builds
+        add_definitions(-D_ITERATOR_DEBUG_LEVEL=0)
+    endif()
 ENDIF(MSVC)
 
 SET(CMAKE_INCLUDE_CURRENT_DIR 1)
